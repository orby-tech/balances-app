<html lang='en'>
  <head>
    <meta charset='UTF-8' />
    <meta http-equiv='X-UA-Compatible' content='IE=edge' />
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />
    <title>login</title>
  </head>
  <body>
    <label for='fname'>First name:</label><br />
    <input type='text' id='fname' name='username' placeholder='Login' /><br />
    <label for='lname'>Last name:</label><br />
    <input
      type='password'
      id='lname'
      name='password'
      placeholder='Password'
    /><br /><br />
    <button onclick='login()'> Login</button>
  </body>
  <script>
    function login() { 

        console.log(document.getElementById('fname').value )
        console.log(document.getElementById('lname').value )

        var myHeaders = new Headers();
myHeaders.append("Content-Type", "application/json");
myHeaders.append("Cookie", "_csrf=abE-nAXEAxbAhktDw7te0S6sNz46MTY4MDM0MzI1MDY5NTYyMDI4OA; i_like_gitea=753fb4d3237f0ec2");

var raw = JSON.stringify({
  "username": document.getElementById('fname').value,
  "password":document.getElementById('lname').value
});

var requestOptions = {
  method: 'POST',
  headers: myHeaders,
  body: raw,
  redirect: 'follow'
};

fetch("/auth/login", requestOptions)
  .then(response => response.text())
  .then(result => {
    console.log(result)
    localStorage.setItem('token', JSON.parse(result).access_token)
    window.location = "/common";
  })
  .catch(error => console.log('error', error));

    }
  </script>
</html>